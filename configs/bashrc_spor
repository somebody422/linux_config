# ~/.bashrc: executed by bash(1) for non-login shells.
# see /usr/share/doc/bash/examples/startup-files (in the package bash-doc)
# for examples

source ~/linux_config/

# For GnuPG
export GPG_TTY=$(tty)

# Wedge mkbuild awareness into bash completion for the make command
if [ -f /usr/share/bash-completion/completions/make ]; then
    . /usr/share/bash-completion/completions/make

    _mkbuild()
    {
        local cur prev
        COMPREPLY=()
        cur="${COMP_WORDS[COMP_CWORD]}"
        prev="${COMP_WORDS[COMP_CWORD-1]}"
        case "${prev}" in
            make)
                local targets=$(make list-platforms)
                COMPREPLY=( $( compgen -W '${targets}' -- $cur ) )
                return 0
                ;;
            *)
                local extras='all program debug'
                COMPREPLY=( $( compgen -W '${extras}' -- $cur ) )
                return 0
                ;;
        esac
    }

    _newmake()
    {
        if [ -f extrefs ]; then
            _mkbuild
        else
            _make
        fi
    }

    complete -r make
    complete -F _newmake make
fi

# Support PASS extensions
export PASSWORD_STORE_ENABLE_EXTENSIONS=true

# Most terminals support color schemes.  Tested with xterm and st.
[ -n "$PS1" ] && [ -s $HOME/.config/base16-shell/colorscheme.sh ] \
    && . $HOME/.config/base16-shell/colorscheme.sh

# Tab completion for git-icdiff
if which git-icdiff >/dev/null 2>&1; then
_git_icdiff()
{
    __gitcomp_nl "$(__git_refs)"
}
fi


# Support for man pages for user specific programs
export MANPATH=/usr/local/share/man:/usr/share/man:~/.local/share/man

alias py2env='source /home/shedin/code/py2_venv/bin/activate'

[ -f ~/.fzf.bash ] && source ~/.fzf.bash
. ~/linux_config/z-master/z.sh
. ~/linux_config/fz-master/fz.sh

